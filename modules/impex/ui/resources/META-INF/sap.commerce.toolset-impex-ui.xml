<!--
  ~ This file is part of "SAP Commerce Developers Toolset" plugin for IntelliJ IDEA.
  ~ Copyright (C) 2019-2025 EPAM Systems <hybrisideaplugin@epam.com> and contributors
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Lesser General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  ~ See the GNU Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public License
  ~ along with this program. If not, see <http://www.gnu.org/licenses/>.
  -->
<idea-plugin>

    <extensions defaultExtensionNs="com.intellij">
        <editorFactoryListener implementation="sap.commerce.toolset.impex.editor.event.ImpExEditorFactoryListener"/>

        <treeStructureProvider order="after hybris.project.root.tree.structure.provider" implementation="sap.commerce.toolset.impex.projectView.ImpExTreeStructureProvider"/>
        <lang.psiStructureViewFactory language="ImpEx" implementationClass="sap.commerce.toolset.impex.structureView.ImpExStructureViewBuilderProvider"/>
        <breadcrumbsInfoProvider implementation="sap.commerce.toolset.impex.breadcrumbs.ImpExColumnBreadcrumbsProvider"/>
        <editorNotificationProvider id="impexToAclEditorNotificationProvider" implementation="sap.commerce.toolset.impex.editor.ImpExToAclEditorNotificationProvider"/>
        <editorFactoryListener implementation="sap.commerce.toolset.impex.editor.event.ImpExLineEditorFactoryListener"/>

        <projectConfigurable id="hybris.project.impex.settings" parentId="hybris.project.settings"
                             nonDefaultProject="true" dynamic="true"
                             bundle="i18n.HybrisBundle" key="hybris.settings.project.impex.title"
                             order="after hybris.project.integrations.settings"
                             provider="sap.commerce.toolset.impex.options.ImpExProjectSettingsConfigurableProvider"/>
    </extensions>

    <actions>
        <action id="hybris.hac.console.impex.validate" class="sap.commerce.toolset.impex.actionSystem.ConsoleImpExValidateAction">
            <add-to-group group-id="hybris.console.actionGroup" relative-to-action="sap.commerce.toolset.console.clearAll" anchor="before"/>
        </action>

        <action id="ImpEx.NewImpExFile" class="sap.commerce.toolset.impex.actionSystem.ImpExFileCreateAction"
                text="ImpEx File" description="Create new ImpEx file">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile"/>
        </action>

        <action id="hybris.impex.learnMoreAcl" class="sap.commerce.toolset.impex.actionSystem.ImpExLearnMoreAboutAclAction"/>
        <action id="hybris.impex.openQuery" class="sap.commerce.toolset.impex.actionSystem.ImpExOpenInConsoleAction">
            <keyboard-shortcut first-keystroke="control shift alt O" keymap="$default"/>
        </action>
        <action id="hybris.impex.openSettings" class="sap.commerce.toolset.impex.actionSystem.ImpExOpenSettingsAction"/>
        <action id="hybris.impex.validate" class="sap.commerce.toolset.impex.actionSystem.ImpExValidateAction">
            <keyboard-shortcut first-keystroke="control alt V" keymap="$default"/>
        </action>
        <action id="hybris.impex.import" class="sap.commerce.toolset.impex.actionSystem.ImpExExecuteAction">
            <keyboard-shortcut first-keystroke="shift alt ENTER" keymap="$default"/>
        </action>
        <action id="hybris.impex.table.select" class="sap.commerce.toolset.impex.actionSystem.ImpExTableSelectAction">
            <keyboard-shortcut first-keystroke="control shift s" keymap="$default"/>
        </action>
        <action id="hybris.impex.executionContextSettings" class="sap.commerce.toolset.impex.actionSystem.ImpExExecutionContextSettingsAction"/>

        <group id="hybris.impex.table.actions">
            <reference ref="hybris.impex.table.select"/>
            <separator/>
            <action id="hybris.impex.table.column.move.left" class="sap.commerce.toolset.impex.actionSystem.ImpExTableColumnMoveLeftAction">
                <keyboard-shortcut first-keystroke="control shift alt COMMA" keymap="$default"/>
            </action>
            <action id="hybris.impex.table.column.move.right" class="sap.commerce.toolset.impex.actionSystem.ImpExTableColumnMoveRightAction">
                <keyboard-shortcut first-keystroke="control shift alt PERIOD" keymap="$default"/>
            </action>
            <separator/>
            <action id="hybris.impex.table.column.add.left" class="sap.commerce.toolset.impex.actionSystem.ImpExTableColumnInsertLeftAction"/>
            <action id="hybris.impex.table.column.add.right" class="sap.commerce.toolset.impex.actionSystem.ImpExTableColumnInsertRightAction"/>
            <separator/>
            <action id="hybris.impex.table.column.remove" class="sap.commerce.toolset.impex.actionSystem.ImpExTableColumnRemoveAction">
                <keyboard-shortcut first-keystroke="control alt BACK_SPACE" keymap="$default"/>
            </action>
            <action id="hybris.impex.table.remove" class="sap.commerce.toolset.impex.actionSystem.ImpExTableRemoveAction">
                <keyboard-shortcut first-keystroke="control shift alt BACK_SPACE" keymap="$default"/>
            </action>
            <action id="hybris.impex.table.split" class="sap.commerce.toolset.impex.actionSystem.ImpExTableSplitVerticallyAction">
                <keyboard-shortcut first-keystroke="control shift alt BACK_SLASH" keymap="$default"/>
            </action>
        </group>

        <group id="hybris.impex.toolbar.left">
            <reference ref="hybris.impex.executionContextSettings"/>
            <separator/>
            <reference ref="hybris.impex.import"/>
            <reference ref="hybris.impex.openQuery"/>
            <reference ref="hybris.impex.validate"/>
            <separator/>
            <reference ref="hybris.impex.table.actions"/>
            <separator/>
            <action class="sap.commerce.toolset.impex.actionSystem.ImpExToggleInEditorResultsAction"/>
            <action class="sap.commerce.toolset.impex.actionSystem.ImpExToggleInEditorParametersAction"/>
            <separator/>
            <reference ref="hybris.impex.openSettings"/>
        </group>
        <group id="hybris.impex.toolbar.right">
            <reference ref="sap.commerce.toolset.hac.chooseConnection"/>
        </group>
    </actions>
</idea-plugin>
